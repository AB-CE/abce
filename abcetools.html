<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Tools and floating point issues: abcetools Module &mdash; ABCE 0.3.1alpha documentation</title>
    
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.3.1alpha',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="ABCE 0.3.1alpha documentation" href="index.html" />
    <link rel="next" title="Files in this package" href="files.html" />
    <link rel="prev" title="Retrieval of the simulation results" href="simulation_results.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="files.html" title="Files in this package"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="simulation_results.html" title="Retrieval of the simulation results"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">ABCE 0.3.1alpha documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-tools">
<span id="tools-and-floating-point-issues-abcetools-module"></span><h1>Tools and floating point issues: abcetools Module<a class="headerlink" href="#module-tools" title="Permalink to this headline">¶</a></h1>
<p>This file contains functions to compare floating point variables to 0. All
variables in this simulation as in every computer programm are floating
point variables. Floating point variables are not exact. Therefore var_a == var_b
has no meaning. Further a variable that is var_c = 9.999999999999966e-30 is for our
purpose equal to zero, but var_c == 0 would lead to False.
<a class="reference internal" href="#tools.is_zero" title="tools.is_zero"><code class="xref py py-meth docutils literal"><span class="pre">is_zero()</span></code></a>, <a class="reference internal" href="#tools.is_positive" title="tools.is_positive"><code class="xref py py-meth docutils literal"><span class="pre">is_positive()</span></code></a> and <a class="reference internal" href="#tools.is_negative" title="tools.is_negative"><code class="xref py py-meth docutils literal"><span class="pre">is_negative()</span></code></a> work
around this problem by defining float epsilon and determine whether the variable is
sufficiently close to zero or not.</p>
<p>This file also defines the <a class="reference internal" href="#tools.NotEnoughGoods" title="tools.NotEnoughGoods"><code class="xref py py-exc docutils literal"><span class="pre">tools.NotEnoughGoods</span></code></a></p>
<dl class="exception">
<dt id="tools.NotEnoughGoods">
<em class="property">exception </em><code class="descclassname">tools.</code><code class="descname">NotEnoughGoods</code><span class="sig-paren">(</span><em>_agent_name</em>, <em>good</em>, <em>amount_missing</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tools.html#NotEnoughGoods"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tools.NotEnoughGoods" title="Permalink to this definition">¶</a></dt>
<dd><p>Methods raise this exception when the agent has less goods than needed</p>
<p>These functions (self.produce, self.offer, self.sell, self.buy)
should be encapsulated by a try except block:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">try</span><span class="p">:</span>
   <span class="bp">self</span><span class="o">.</span><span class="n">produce</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
<span class="k">except</span> <span class="n">NotEnoughGoods</span><span class="p">:</span>
   <span class="n">alternative_statements</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="tools.agent_name">
<code class="descclassname">tools.</code><code class="descname">agent_name</code><span class="sig-paren">(</span><em>group_name</em>, <em>idn</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tools.html#agent_name"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tools.agent_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a group name and a id-number it returns the
agent_name of the individual agent with the number idn. A message sent to
the agent_name, will be received by this individual agent</p>
</dd></dl>

<dl class="function">
<dt id="tools.is_negative">
<code class="descclassname">tools.</code><code class="descname">is_negative</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tools.html#is_negative"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tools.is_negative" title="Permalink to this definition">¶</a></dt>
<dd><p>see is positive</p>
</dd></dl>

<dl class="function">
<dt id="tools.is_positive">
<code class="descclassname">tools.</code><code class="descname">is_positive</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tools.html#is_positive"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tools.is_positive" title="Permalink to this definition">¶</a></dt>
<dd><p>checks whether a number is positive and sufficiently different from
zero. All variables in ABCE are floating point numbers. Due to the workings
of floating point arithmetic. If x is 1.0*e^-100 so really close to 0,
x &gt; 0 will be true, eventhough it is very very small;
is_zero will be true.</p>
</dd></dl>

<dl class="function">
<dt id="tools.is_zero">
<code class="descclassname">tools.</code><code class="descname">is_zero</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tools.html#is_zero"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tools.is_zero" title="Permalink to this definition">¶</a></dt>
<dd><p>checks whether a number is sufficiently close to zero. All variables
in ABCE are floating point numbers. Due to the workings of floating point
arithmetic. If x is 1.0*e^-100 so really close to 0, x == 0 will be false;
is_zero will be true.</p>
</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="simulation_results.html"
                        title="previous chapter">Retrieval of the simulation results</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="files.html"
                        title="next chapter">Files in this package</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/abcetools.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="files.html" title="Files in this package"
             >next</a> |</li>
        <li class="right" >
          <a href="simulation_results.html" title="Retrieval of the simulation results"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">ABCE 0.3.1alpha documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2012, Davoud Taghawi-Nejad.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.1.
    </div>
  </body>
</html>